{% extends 'layout.html' %}
{% load campaign_extras %}

{% block title %}Export NPCs | {{ block.super }}{% endblock %}

{% block head_extra %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
{% endblock %}

{% block body_content %}
    <div class="alert alert-info mt-3" role="alert">
        Copy the following code and then share it with friends! They will need to <a href="{% url 'characters:npc_import' %}" class="alert-link">import</a> it in order to view it.
    </div>

    <div class="alert alert-info mt-3" role="alert">
        If you feel comfortable with it, you can change properties or select which creatures to include. Anything in the "fields" section can be edited, except for the "user" property. The data outside the "fields" section is used to reference your creature and should not be changed.
    </div>

    <div class="row mt-3 pb-3">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="px-1 mb-0">Export NPCs</h5>
                </div>
                <div class="card-body">
                    <div class="pre-scrollable" style="max-height: 400px;">
                        <pre id="code">{% autoescape on %}{{ npcs }}{% endautoescape %}</pre>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="row justify-content-end">
                        <div class="col-auto">
                            <button class="btn btn-primary btn-copy" data-clipboard-target="#code">Copy to clipboard</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block body_extra %}
    <script>
        new ClipboardJS('.btn-copy');
    </script>
{% endblock %}